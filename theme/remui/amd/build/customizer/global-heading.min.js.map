{"version":3,"sources":["customizer/global-heading.js"],"names":["define","$","Utils","headings","SELECTOR","HEADING","apply","forEach","heading","putStyle","fontSize","fontFamily","concat","val","toLowerCase","tag","content","replaceAll","fontWeight","textTransform","lineHeight","customcolor","is","closest","slideDown","slideUp","textColor","deviceWidth","mobile","tablet","getContent","init","select","color","push","join","on"],"mappings":"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","sourcesContent":["// This file is part of Moodle - http://moodle.org/\n//\n// Moodle is free software: you can redistribute it and/or modify\n// it under the terms of the GNU General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// Moodle is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License\n// along with Moodle.  If not, see <http://www.gnu.org/licenses/>.\n/**\n * Theme customizer global-heading js\n *\n * @package   theme_remui/customizer\n * @copyright (c) 2021 WisdmLabs (https://wisdmlabs.com/) <support@wisdmlabs.com>\n * @license   http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later\n * @author    Yogesh Shirsath\n */\n\ndefine('theme_remui/customizer/global-heading', ['jquery', './utils'], function($, Utils) {\n\n    /**\n     * Headings list\n     */\n    var headings = ['all', 'h1', 'h2', 'h3', 'h4', 'h5', 'h6'];\n\n    /**\n     * Selectors\n     */\n    var SELECTOR = {\n        HEADING: 'typography-heading'\n    };\n\n    // Add heading in selector.\n    headings.forEach(function(heading) {\n        SELECTOR['FONTFAMILY' + heading] = `typography-heading-${heading}-fontfamily`;\n        SELECTOR['FONTSIZE' + heading] = `typography-heading-${heading}-fontsize`;\n        SELECTOR['FONTWEIGHT' + heading] = `typography-heading-${heading}-fontweight`;\n        SELECTOR['TEXTTRANSFORM' + heading] = `typography-heading-${heading}-text-transform`;\n        SELECTOR['LINEHEIGHT' + heading] = `typography-heading-${heading}-lineheight`;\n        SELECTOR['CUSTOMCOLOR' + heading] = `typography-heading-${heading}-custom-color`;\n        SELECTOR['TEXTCOLOR' + heading] = `typography-heading-${heading}-textcolor`;\n    });\n\n    /**\n     * Get site heading content.\n     * @param {string} heading Heading tag\n     * @return {string} site color content\n     */\n    function getContent(heading) {\n\n        let fontSize;\n        let fontFamily = $(`[name='${SELECTOR['FONTFAMILY' + heading]}']`).val();\n        if (fontFamily == '') {\n            fontFamily = 'Inherit';\n        }\n        if (fontFamily.toLowerCase() == 'standard') {\n            fontFamily = 'Roboto';\n        }\n\n        let tag = heading == 'all' ? 'h1, h2, h3, h4, h5, h6, .h1, .h2, .h3, .h4, .h5, .h6' : `${heading}, .${heading}`;\n        let content = '';\n\n        if (fontFamily.toLowerCase() != 'inherit') {\n            content += `\\n@import url('https://fonts.googleapis.com/css2?family=${fontFamily.replaceAll(' ', '+')}&display=swap');`;\n        }\n\n        content += `\\n\n            ${tag} {\n        `;\n\n        if (fontFamily.toLowerCase() != 'inherit') {\n            content += `\\nfont-family: \"${fontFamily}\",sans-serif`;\n            if (heading != 'all') {\n                content += ' !important';\n            }\n            content += ';';\n        }\n\n        if (heading != 'all') {\n            fontSize = $(`[name='${SELECTOR['FONTSIZE' + heading]}']`).val();\n            content += `\\nfont-size: ${fontSize}rem;`;\n        }\n\n        let fontWeight = $(`[name='${SELECTOR['FONTWEIGHT' + heading]}']`).val();\n        if (fontWeight != 'inherit') {\n            content += `\\nfont-weight: ${fontWeight};`;\n        }\n\n        let textTransform = $(`[name='${SELECTOR['TEXTTRANSFORM' + heading]}']`).val();\n        if (textTransform != 'inherit') {\n            content += `\\ntext-transform: ${textTransform};`;\n        }\n\n        let lineHeight = $(`[name='${SELECTOR['LINEHEIGHT' + heading]}']`).val();\n        if (lineHeight != '') {\n            content += `\\nline-height: ${lineHeight};`;\n        }\n\n        let customcolor = true;\n        if (heading != 'all') {\n            customcolor = $(`[name='${SELECTOR['CUSTOMCOLOR' + heading]}']`).is(':checked');\n            if (customcolor == true) {\n                $(`[name='${SELECTOR['TEXTCOLOR' + heading]}']`).closest('.setting-item').slideDown(100);\n            } else {\n                $(`[name='${SELECTOR['TEXTCOLOR' + heading]}']`).closest('.setting-item').slideUp(100);\n            }\n        }\n        if (customcolor == true) {\n            let textColor = $(`[name='${SELECTOR['TEXTCOLOR' + heading]}']`).val();\n            content += `\\ncolor: ${textColor}`;\n            if (heading != 'all') {\n                content += ' !important';\n            }\n            content += ';';\n        }\n\n        content += `\\n\n            }\n        `;\n\n        // Tablet.\n        if (heading != 'all') {\n            fontSize = $(`[name='${SELECTOR['FONTSIZE' + heading]}-tablet']`).val();\n            if (fontSize != '') {\n                content += `\\n\n                    @media screen and (min-width: ${Utils.deviceWidth.mobile + 1}px)\n                    and (max-width: ${Utils.deviceWidth.tablet}px) {\n                        ${tag} {\n                            font-size: ${fontSize}rem;\n                        }\n                    }\n                `;\n            }\n            // Mobile.\n            fontSize = $(`[name='${SELECTOR['FONTSIZE' + heading]}-mobile']`).val();\n            if (fontSize != '') {\n                content += `\\n\n                    @media screen and (max-width: ${Utils.deviceWidth.mobile}px) {\n                        ${tag} {\n                            font-size: ${fontSize}rem;\n                        }\n                    }\n                `;\n            }\n        }\n        return content;\n    }\n\n    /**\n     * Apply settings.\n     */\n    function apply() {\n        headings.forEach(function(heading) {\n            Utils.putStyle(SELECTOR.HEADING + heading, getContent(heading));\n        });\n    }\n\n    /**\n     * Initialize events.\n     */\n    function init() {\n        var select = [];\n        var color = [];\n        headings.forEach(function(heading) {\n            select.push(`\n                [name='${SELECTOR['FONTFAMILY' + heading]}'],\n                [name='${SELECTOR['FONTSIZE' + heading]}'],\n                [name='${SELECTOR['FONTSIZE' + heading]}-tablet'],\n                [name='${SELECTOR['FONTSIZE' + heading]}-mobile'],\n                [name='${SELECTOR['FONTWEIGHT' + heading]}'],\n                [name='${SELECTOR['TEXTTRANSFORM' + heading]}'],\n                [name='${SELECTOR['LINEHEIGHT' + heading]}'],\n                [name='${SELECTOR['CUSTOMCOLOR' + heading]}']\n            `);\n            color.push(`[name='${SELECTOR['TEXTCOLOR' + heading]}']`);\n        });\n        $(select.join(', ')).on('input', function() {\n            apply();\n        });\n\n        $(color.join(', ')).on('color.changed', function() {\n            apply();\n        });\n    }\n\n    return {\n        init: init,\n        apply: apply\n    };\n});\n"],"file":"global-heading.min.js"}