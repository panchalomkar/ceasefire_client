"use strict";define("theme_remui/customizer/footer",["jquery","core/templates","./utils"],function(n,t,e){var o={BASE:"customizer-footer",BACKGROUNDCOLOR:"footer-background-color",TEXTCOLOR:"footer-text-color",LINKTEXT:"footer-link-text",LINKHOVERTEXT:"footer-link-hover-text",COLUMN:"footercolumn",COLUMNSIZE:"footercolumnsize",COLUMNSHEADING:"heading_footer-advance-column",MENULIST:".footer-menu-list",SHOWLOGO:"footershowlogo",SECONDARYSOCIAL:"footersecondarysocial",TERMSANDCONDITIONSSHOW:"footertermsandconditionsshow",TERMSANDCONDITIONS:"footertermsandconditions",PRIVACYPOLICYSHOW:"footerprivacypolicyshow",PRIVACYPOLICY:"footerprivacypolicy",COPYRIGHTSHOW:"footercopyrightsshow",COPYRIGHT:"footercopyrights",SETTINGITEM:".setting-item",DNONE:"d-none",FOOTER:"#page-footer"};function c(t){var c={};c.iframeDocument=e.getDocument(),c.column=n(t.target.parentElement),c.index=n(c.column).index(),c.sibling=n(c.column).next(),c.parent=n(c.column).closest(".resizer"),c.widths=n('[name="'.concat(o.COLUMNSIZE,'"]')).val().split(","),n(c.column).closest(".resizer").addClass("resizing"),"touchstart"===t.type?c.startX=t.touches[0].clientX:c.startX=t.clientX,c.colStartWidth=n(c.column).outerWidth(),c.sibStartWidth=n(c.sibling).outerWidth(),c.parentWidth=n(c.parent).outerWidth(),c.move=function(t){var e;e="touchmove"===t.type?t.touches[0].clientX:t.clientX;var o=c.colStartWidth+e-c.startX,a=c.sibStartWidth-e+c.startX,i=function(n,t){return n/t*100},s=parseFloat(i(o,c.parentWidth)).toFixed(1);if(!(s<15)){var r=parseFloat(i(a,c.parentWidth)).toFixed(1);r<15||(n(c.column).css("width","".concat(s,"%")).find("label").text("".concat(s,"%")),n(c.iframeDocument).find("#footer-column-".concat(c.index+1)).css("flex","0 0 ".concat(s,"%")),c.widths[c.index]=s,n(c.sibling).css("width","".concat(r,"%")).find("label").text("".concat(r,"%")),n(c.iframeDocument).find("#footer-column-".concat(c.index+2)).css("flex","0 0 ".concat(r,"%")),c.widths[c.index+1]=r)}},c.stop=function(){window.removeEventListener("mouseup",c.stop),window.removeEventListener("touchend",c.stop),window.removeEventListener("mousemove",c.move),window.removeEventListener("touchmove",c.move),n('[name="'.concat(o.COLUMNSIZE,'"]')).val(c.widths.join(",")),n(c.column).closest(".resizer").removeClass("resizing")},window.addEventListener("mouseup",c.stop),window.addEventListener("touchend",c.stop),window.addEventListener("mousemove",c.move),window.addEventListener("touchmove",c.move)}function a(){var t,c,a,i,s,r,l=!1,m=!0,u=n('[name="'.concat(o.COLUMN,'"]')).val(),O=e.getDocument(),f=[];n('\n            [name="facebooksetting"],\n            [name="twittersetting"],\n            [name="linkedinsetting"],\n            [name="youtubesetting"],\n            [name="gplussetting"],\n            [name="instagramsetting"],\n            [name="pinterestsetting"],\n            [name="quorasetting"]\n        ').each(function(){""!=n(this).val()&&(m=!1),f[n(this).attr("name").replace("setting","")]=n(this).val()});for(var g=1;g<=u;g++){switch(t=n('[name="'.concat(o.COLUMN+g,'type"]')).val(),a=i=s=!1,t){case"social":if(m)break;if(0==(r=n('[name="'.concat(o.COLUMN+g,'social"]')).val()).length)break;r.forEach(function(n){""!=f[n]&&(a=l=!0)});break;case"customhtml":c=n('[name="'.concat(o.COLUMN+g,'customhtml"]')).val(),""===n("<div>".concat(c,"</div>")).text().trim()&&-1===c.indexOf("img")||(i=l=!0);break;case"menu":"[]"!=n('[name="'.concat(o.COLUMN+g,'menu"]')).val()&&(s=l=!0)}n(O).find("#page-footer #footer-column-".concat(g," .custom-html")).toggleClass("invisible",!i),n(O).find("#page-footer #footer-column-".concat(g," .social-links")).toggleClass("invisible",!a),n(O).find("#page-footer #footer-column-".concat(g," .footer-menu")).toggleClass("invisible",!s)}n(O).find("#page-footer .footer-primary").toggleClass("d-none",!l)}function i(t){var c=n('[name="'.concat(o.COLUMN+t,'type"]')).val(),a=e.getDocument(),i=n('[name="'.concat(o.COLUMN+t,'type"]')).closest(".heading-content");i.find('[name*="'.concat(o.COLUMN,'"][name*="social"]')).closest(o.SETTINGITEM).toggleClass(o.DNONE,"social"!=c),i.find('[name*="'.concat(o.COLUMN,'"][name*="title"]')).closest(o.SETTINGITEM).toggleClass(o.DNONE,"social"==c),i.find('[name*="'.concat(o.COLUMN,'"][name*="customhtml"]')).closest(o.SETTINGITEM).toggleClass(o.DNONE,"customhtml"!=c),i.find('[name*="'.concat(o.COLUMN,'"][name*="menu"]')).closest(o.SETTINGITEM).toggleClass(o.DNONE,"menu"!=c),n(a).find("#footer-column-".concat(t)).removeClass("column-type-customhtml column-type-social column-type-menu").addClass("column-type-"+c)}function s(t){var c=n('[name="'.concat(o.COLUMN).concat(t,'title"]')).val();n(e.getDocument()).find("#footer-column-".concat(t," .custom-html .card-title")).text(c),n(e.getDocument()).find("#footer-column-".concat(t," .footer-menu .card-title")).text(c)}function r(t){var c=n('[name="'.concat(o.COLUMN).concat(t,'customhtml"]')).val();n(e.getDocument()).find("#footer-column-".concat(t," .custom-html .card-text")).html(c)}function l(){var t=n('[name="'.concat(o.COLUMNSIZE,'"]')).val().split(","),c=e.getDocument();t.forEach(function(t,e){n(c).find("#footer-column-".concat(e+1)).css("flex","0 0 ".concat(t,"%"))})}function m(){var c=n('[name="'.concat(o.COLUMN,'"]')).val(),a=n('[name="'.concat(o.COLUMNSIZE,'"]')).val().split(",").slice(0,c),i=n('[name="'.concat(o.COLUMNSIZE,'"]')).closest(".felement");!function(){for(var t=n('[name="'.concat(o.COLUMN,'"]')).val(),c=e.getDocument(),a=1;a<=t;a++)n("#".concat(o.COLUMNSHEADING).concat(a)).show(),n(c).find("#footer-column-".concat(a)).removeClass(o.DNONE);for(;a<=4;a++)n("#".concat(o.COLUMNSHEADING).concat(a)).hide(),n(c).find("#footer-column-".concat(a)).addClass(o.DNONE)}(),t.render("theme_remui/customizer/footer_widget_size",{widget:a}).done(function(n,e){i.find(".resizer-wrapper").remove(),t.appendNodeContents(i,n,e)})}function u(t,c){t="gplus"==(t=t.replace("setting",""))?"social-google-plus":"social-"+t;var a=e.getDocument();n(a).find("".concat(o.FOOTER," .social-links .").concat(t)).attr("href",c).toggleClass(o.DNONE,""==c)}function O(t){var c,a=n('[name="'.concat(o.COLUMN).concat(t,'social"]')).val(),i=e.getDocument();n(i).find("#footer-column-".concat(t," .social-links a")).addClass("social-disabled"),a.forEach(function(e){c=n('[name="'.concat(e,'setting"]')).val(),e="gplus"==e?"social-google-plus":"social-"+e,n(i).find("#footer-column-".concat(t," .social-links a.").concat(e)).removeClass("social-disabled").attr("href",c).toggleClass(o.DNONE,""==c)})}function f(t){var c=n('[name="'.concat(o.COLUMN).concat(t,'menu"]')).val(),a=e.getDocument();try{c=JSON.parse(c)}catch(n){c=[]}n(a).find("#footer-column-".concat(t," ").concat(o.MENULIST)).html(""),c.forEach(function(e){n(a).find("#footer-column-".concat(t," ").concat(o.MENULIST)).append('<a target="_blank" href="'.concat(e.address,'">').concat(e.text,"</a>"))})}function g(t){var c=n('[name="'.concat(o.COLUMN).concat(t,'menuorientation"]')).val(),a=e.getDocument();n(a).find("#footer-column-".concat(t," .footer-menu")).removeClass("menu-vertical menu-horizontal").addClass("menu-"+c)}function d(){var t=e.getDocument(),c=n('[name="'.concat(o.SHOWLOGO,'"]')).is(":checked");n(t).find(".secondary-footer-logo").toggleClass(o.DNONE,!c)}function N(){var t=e.getDocument(),c=n('[name="'.concat(o.SECONDARYSOCIAL,'"]')).is(":checked");n(t).find(".secondary-footer-social").toggleClass(o.DNONE,!c)}function h(){var t=e.getDocument(),c=n('[name="'.concat(o.TERMSANDCONDITIONSSHOW,'"]')).is(":checked");n(t).find(".footer-terms-and-conditions").toggleClass(o.DNONE,!c).toggleClass("d-block",c),n('[name="'.concat(o.TERMSANDCONDITIONS,'"]')).closest(o.SETTINGITEM).toggleClass(o.DNONE,!c)}function C(){var t=e.getDocument(),c=n('[name="'.concat(o.TERMSANDCONDITIONS,'"]')).val();n(t).find(".footer-terms-and-conditions").attr("href",c)}function p(){var t=e.getDocument(),c=n('[name="'.concat(o.PRIVACYPOLICYSHOW,'"]')).is(":checked");n(t).find(".footer-privacy-policy").toggleClass(o.DNONE,!c).toggleClass("d-block",c),n('[name="'.concat(o.PRIVACYPOLICY,'"]')).closest(o.SETTINGITEM).toggleClass(o.DNONE,!c)}function E(){var t=e.getDocument(),c=n('[name="'.concat(o.PRIVACYPOLICY,'"]')).val();n(t).find(".footer-privacy-policy").attr("href",c)}function v(){var t=e.getDocument(),c=n('[name="'.concat(o.COPYRIGHTSHOW,'"]')).is(":checked");n(t).find(".secondary-footer-copyright").toggleClass(o.DNONE,!c),n('[name="'.concat(o.COPYRIGHT,'"]')).closest(o.SETTINGITEM).toggleClass(o.DNONE,!c)}function L(){var t=e.getDocument(),c=n('[name="'.concat(o.COPYRIGHT,'"]')).val().replaceAll("[site]",n(t).find(".secondary-footer-copyright").data("site")).replaceAll("[year]",(new Date).getFullYear());n(t).find(".secondary-footer-copyright").html(c)}function T(){var t,c,T,I,S;t=n('[name="'.concat(o.BACKGROUNDCOLOR,'"]')).spectrum("get").toString(),c=n('[name="'.concat(o.TEXTCOLOR,'"]')).spectrum("get").toString(),T=n('[name="'.concat(o.LINKTEXT,'"]')).spectrum("get").toString(),I=n('[name="'.concat(o.LINKHOVERTEXT,'"]')).spectrum("get").toString(),S="\n            ".concat(o.FOOTER,",\n            ").concat(o.FOOTER," .h1,\n            ").concat(o.FOOTER," .h2,\n            ").concat(o.FOOTER," .h3,\n            ").concat(o.FOOTER," .h4,\n            ").concat(o.FOOTER," .h5,\n            ").concat(o.FOOTER," .h6,\n            ").concat(o.FOOTER," h1,\n            ").concat(o.FOOTER," h2,\n            ").concat(o.FOOTER," h3,\n            ").concat(o.FOOTER," h4,\n            ").concat(o.FOOTER," h5,\n            ").concat(o.FOOTER," h6 {\n                background: ").concat(t," !important;\n                color: ").concat(c," !important;\n            }\n            ").concat(o.FOOTER," a {\n                color: ").concat(T," !important;\n            }\n            ").concat(o.FOOTER," a:hover {\n                color: ").concat(I," !important;\n            }\n        "),e.putStyle(o.BASE,S),m(),l(),d(),N(),h(),C(),p(),E(),v(),L(),a();for(var M=1;M<=4;M++)s(M),r(M),i(M),f(M),g(M),O(M);n('\n            [name="facebooksetting"],\n            [name="twittersetting"],\n            [name="linkedinsetting"],\n            [name="youtubesetting"],\n            [name="gplussetting"],\n            [name="instagramsetting"],\n            [name="pinterestsetting"],\n            [name="quorasetting"]\n        ').each(function(){u(n(this).attr("name"),n(this).val())})}return{init:function(){n('[name="'.concat(o.COLUMNSIZE,'"]')).closest(".felement").append("<label>".concat(M.util.get_string("footercolumnsizenote","theme_remui"),"</label>")),m(),n('[name="'.concat(o.COLUMNSIZE,'"]')).hide(),n('[name="'.concat(o.COLUMNSIZE,'"]')).on("change",function(){var t=n('[name="'.concat(o.COLUMNSIZE,'"]')).val().split(",");n('[name="'.concat(o.COLUMN,'"]')).val()!=t.length&&n('[name="'.concat(o.COLUMN,'"]')).val(t.length),m(),l()}),n("body").on("mousedown touchstart","#fitem_id_".concat(o.COLUMNSIZE," .resizer .resize-x-handle"),c),n('[name="'.concat(o.COLUMN,'"]')).on("change",function(){for(var t=[],e=1;e<=n(this).val();e++)t.push((100/n(this).val()).toFixed(0));n('[name="'.concat(o.COLUMNSIZE,'"]')).val(t.join(",")),m(),l(),a()}),n('\n            [name="'.concat(o.BACKGROUNDCOLOR,'"],\n            [name="').concat(o.TEXTCOLOR,'"],\n            [name="').concat(o.LINKTEXT,'"],\n            [name="').concat(o.LINKHOVERTEXT,'"]\n        ')).on("color.changed",T),n('\n            [name="facebooksetting"],\n            [name="twittersetting"],\n            [name="linkedinsetting"],\n            [name="youtubesetting"],\n            [name="gplussetting"],\n            [name="instagramsetting"],\n            [name="pinterestsetting"],\n            [name="quorasetting"]\n        ').on("input",function(){u(n(this).attr("name"),n(this).val()),a()}),n('[name*="'.concat(o.COLUMN,'"][name*="type"]')).on("change",function(){i(n(this).attr("name").replace(o.COLUMN,"").replace("type","")),a()}),n('[name*="'.concat(o.COLUMN,'"][name*="title"]')).on("input",function(){s(n(this).attr("name").replace(o.COLUMN,"").replace("title",""))}),n('[name*="'.concat(o.COLUMN,'"][name*="customhtml"]')).on("change",function(){r(n(this).attr("name").replace(o.COLUMN,"").replace("customhtml","")),a()}),n('[name*="'.concat(o.COLUMN,'"][name*="menu"]:not([name*="orientation"])')).on("change",function(){f(n(this).attr("name").replace(o.COLUMN,"").replace("menu","")),a()}),n('[name*="'.concat(o.COLUMN,'"][name*="menuorientation"]')).on("change",function(){g(n(this).attr("name").replace(o.COLUMN,"").replace("menuorientation",""))}),n('[name*="'.concat(o.COLUMN,'"][name*="social"]')).on("change",function(){O(n(this).attr("name").replace(o.COLUMN,"").replace("social","")),a()}),n('[name="'.concat(o.SHOWLOGO,'"]')).on("change",d),n('[name="'.concat(o.SECONDARYSOCIAL,'"]')).on("change",N),n('[name="'.concat(o.TERMSANDCONDITIONSSHOW,'"]')).on("change",h),n('[name="'.concat(o.TERMSANDCONDITIONS,'"]')).on("input",C),n('[name="'.concat(o.PRIVACYPOLICYSHOW,'"]')).on("change",p),n('[name="'.concat(o.PRIVACYPOLICY,'"]')).on("input",E),n('[name="'.concat(o.COPYRIGHTSHOW,'"]')).on("change",v),n('[name="'.concat(o.COPYRIGHT,'"]')).closest(".felement").append(M.util.get_string("footercopyrightstags","theme_remui")),n('[name="'.concat(o.COPYRIGHT,'"]')).on("input",L)},apply:T}});
//# sourceMappingURL=footer.min.js.map
