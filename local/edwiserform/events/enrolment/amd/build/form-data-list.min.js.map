{"version":3,"sources":["enrolment/amd/src/form-data-list.js"],"names":["define","$","ajax","formdata","init","document","ready","e","on","_this","this","action","attr","formid","closest","data","user","find","userid","Formeo","dom","loading","call","methodname","args","done","response","loadingClose","status","removeClass","siblings","addClass","update_separator","alert","msg","fail","ex"],"mappings":"AAAA,aAEAA,OAAO,CAAC,SAAU,YAAa,mCAAoC,gCAAiC,SAAUC,EAAGC,EAAMC,GACrH,MAAO,CACLC,KAAM,WACJH,EAAEI,UAAUC,MAAM,SAAUC,GAC1BN,EAAE,QAAQO,GAAG,QAAS,oBAAqB,WACzC,IAAIC,EAAQC,KAERC,EAASV,EAAES,MAAME,KAAK,eACtBC,EAASZ,EAAES,MAAMI,QAAQ,SAASC,KAAK,UACvCC,EAAOf,EAAES,MAAMI,QAAQ,MAAMG,KAAK,kBAClCC,EAASjB,EAAEe,GAAMJ,KAAK,eAC1BO,OAAOC,IAAIC,UACUnB,EAAKoB,KAAK,CAAC,CAC9BC,WAAY,qCACZC,KAAM,CACJX,OAAQA,EACRK,OAAQA,EACRP,OAAQA,MAGG,GAAGc,KAAK,SAAUC,GAG/B,GAFAP,OAAOC,IAAIO,eAEY,GAAnBD,EAASE,OAGX,OAFA3B,EAAEQ,GAAOoB,YAAY,QAAQC,SAAS,qBAAqBC,SAAS,aACpE5B,EAAS6B,mBAIXC,MAAMP,EAASQ,OACdC,KAAK,SAAUC,GAChBjB,OAAOC,IAAIO","sourcesContent":["define(['jquery', 'core/ajax', 'local_edwiserform/form_data_list', 'local_edwiserform/formviewer'], function ($, ajax, formdata) {\n    return {\n        init: function() {\n            $(document).ready(function (e) {\n                $('body').on('click', '.enrolment-action', function() {\n                    var _this = this;\n                    var action = $(this).attr('data-action');\n                    var formid = $(this).closest('table').data('formid');\n                    var user = $(this).closest('tr').find('.formdata-user');\n                    var userid = $(user).attr('data-userid');\n                    Formeo.dom.loading();\n                    var actionResponse = ajax.call([{\n                        methodname: 'edwiserformevents_enrolment_action',\n                        args : {\n                            formid: formid,\n                            userid: userid,\n                            action: action\n                        }\n                    }]);\n                    actionResponse[0].done(function(response) {\n                        Formeo.dom.loadingClose();\n                        if (response.status == true) {\n                            $(_this).removeClass('show').siblings('.enrolment-action').addClass('show');\n                            formdata.update_separator();\n                            return;\n                        }\n                        alert(response.msg);\n                    }).fail(function(ex) {\n                        Formeo.dom.loadingClose();\n                    });\n                });\n            });\n        }\n    };\n});\n"],"file":"form-data-list.min.js"}