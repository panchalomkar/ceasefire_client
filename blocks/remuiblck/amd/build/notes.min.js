define(["jquery","core/ajax"],function(e,t){var o,i,n,s,r=".add-notes-button",d=".add-notes-select",l=".site-note",c=".course-note",u=".personal-note",a=".select2-studentlist";e(d).length&&(e(r).hide(),e(a).hide(),e(d+" select").on("change",function(){if(e(r).hide(),o=e(this).children(":selected").attr("id"),s=e(this).children(":selected").text(),void 0===o)return e(a).empty(),void e(a).hide();t.call([{methodname:"block_remuiblck_get_enrolled_users_by_course",args:{courseid:o}}])[0].done(function(t){i=Object.keys(t).length,e(a).show(),e(a).empty(),i?(e(a).append("<option>"+M.util.get_string("selectastudent","block_remuiblck")+" ("+M.util.get_string("total","moodle")+": "+i+")</option>"),e.each(t,function(t,o){e(a).append('<option value="'+o.id+'">'+o.fullname+"</option>")})):e(a).append("<option>"+M.util.get_string("nousersenrolledincourse","block_remuiblck",s)+"</option>")}).fail(function(t){e(a).html("<option>"+t.message+"</option>")})}),e(a).on("change",function(){e(r).show(),n=e(this).find("option:selected").val();var t=M.cfg.wwwroot+"/notes/edit.php?courseid="+o+"&userid="+n+"&publishstate=site";e(r+" "+l).attr("href",t),t=M.cfg.wwwroot+"/notes/edit.php?courseid="+o+"&userid="+n+"&publishstate=public",e(r+" "+c).attr("href",t),t=M.cfg.wwwroot+"/notes/edit.php?courseid="+o+"&userid="+n+"&publishstate=draft",e(r+" "+u).attr("href",t)}))});
//# sourceMappingURL=notes.min.js.map
