{"version":3,"sources":["recent_feedbacks.js"],"names":["define","$","ajax","Notification","Templates","SELECTORS","TEMPLATES","PROMISES","call","methodname","args","init","root","document","ready","done","response","render","html","fail","exception"],"mappings":"AAAAA,OAAO,CACH,SACA,YACA,oBACA,kBACD,SACCC,EACAC,EACAC,EACAC,GAEA,IAAIC,EACqB,sBAErBC,EACsB,0CAEtBC,EAKsB,WAClB,OAAOL,EAAKM,KAAK,CAAC,CACdC,WAAa,uCACbC,KAAM,MACN,IA0BZ,MAAO,CACHC,KANO,SAASC,GAChBX,EAAEY,UAAUC,MAAM,WAblBP,IAAgCQ,KAAK,SAASC,GAC7BZ,EAAUa,OAAOX,EAAgCU,GACvDD,KAAK,SAASG,GACjBjB,EAAEI,GAA+Ba,KAAKA,KACvCC,KAAKhB,EAAaiB,aACtBD,KAAKhB,EAAaiB","sourcesContent":["define([\n    'jquery',\n    'core/ajax',\n    'core/notification',\n    'core/templates'\n], function(\n    $,\n    ajax,\n    Notification,\n    Templates\n) {\n    var SELECTORS = {\n        FEEDBACKS_CONTAINER: '#recent_assignments',\n    };\n    var TEMPLATES = {\n        RECENT_FEEDBACK_LIST: 'block_remuiblck/recent_assignments_list'\n    };\n    var PROMISES = {\n        /**\n         * Get recent feedbacks promise call\n         * @return promise         ajax promise\n         */\n        GET_RECENT_FEEDBACKS: function() {\n            return ajax.call([{\n                methodname : 'block_remuiblck_get_recent_feedbacks',\n                args: {}\n            }])[0];\n        }\n    };\n\n    /**\n     * Load recent feedback list\n     * @param DOM    root     block DOM object\n     */\n    var loadRecentFeedbacks = function(root) {\n        PROMISES.GET_RECENT_FEEDBACKS().done(function(response) {\n            var output = Templates.render(TEMPLATES.RECENT_FEEDBACK_LIST, response);\n            output.done(function(html) {\n                $(SELECTORS.FEEDBACKS_CONTAINER).html(html);\n            }).fail(Notification.exception);\n        }).fail(Notification.exception);\n    };\n\n    /**\n     * Load recent feedbacks on initialisation\n     * @param DOM root block DOM object\n     */\n    var init = function(root) {\n        $(document).ready(function() {\n            loadRecentFeedbacks(root);\n        });\n    };\n    return {\n        init: init\n    };\n});\n"],"file":"recent_feedbacks.min.js"}