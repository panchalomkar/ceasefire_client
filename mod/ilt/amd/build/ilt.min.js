define(["jquery"],function(e){return{init:function(){e(document).ready(function(){if(e("#id_sessionlocation").on("change",function(){var i=e(this).val();i?e.ajax({type:"POST",url:"fetch_sessionlocation.php",data:"location="+i,success:function(i){e("#id_classroom").html(i)}}):(e("#id_sessionlocation").html('<option value="">Select Location</option>'),e("#id_sessioncapacity").val("Classroom Capacity"))}),e("#id_classroom").on("change",function(){var i=e(this).val();i?e.ajax({type:"POST",url:"fetch_sessionlocation.php",data:"classroom="+i,success:function(i){e("#id_sessioncapacity").val(i)}}):(e("#id_classroom").html('<option value="">Select Classroom</option>'),e("#id_sessioncapacity").html("Classroom Capacity"));var s=e(this).val();s?e.ajax({type:"POST",url:"fetch_sessionlocation.php",data:"classroomres="+s,success:function(i){e("#id_sessionresource").html(i)}}):(e("#id_classroom").html('<option value="">Select Classroom</option>'),e("#id_sessioncapacity").html("Classroom Capacity"))}),"1"!=e("#allowoverbook").val()){var i=e("#sessionid").val();e("#addselect").on("change",function(){e(this).val().length;if(1==e("#removeselect option").length&&""===e.trim(e("#removeselect option").val()))var s=0;else s=e("#removeselect option").length;var t=e("#addselect option:selected").length;t&&e.ajax({type:"POST",url:"fetch_sessionlocation.php",data:"sessionids="+i,success:function(i){if(s)var a=parseInt(s)+parseInt(t);else a=s;var o=t;a>parseInt(i)&&(e(".alert-danger").fadeTo(2e3,500).slideUp(500,function(){e(".alert-danger").slideUp(500)}),e("#addselect option").prop("selected",!1)),o>i&&(e(".alert-danger").fadeTo(2e3,500).slideUp(500,function(){e(".alert-danger").slideUp(500)}),e("#addselect option:selected").prop("selected",!1))}})})}e("input:radio[id=id_allusers]").click(function(){var i=e("#id_allusers").val(),s=e("#sessionid").val();e.ajax({type:"POST",url:"fetch_sessionlocation.php",data:"coursetype="+i+"&sessionid="+s,success:function(i){e("#addselect").html(i)}})}),e("input:radio[id=id_courseusers]").click(function(){var i=e("#id_courseusers").val(),s=e("#sessionid").val(),t=e("#courseid").val();e.ajax({type:"POST",url:"fetch_sessionlocation.php",data:"coursetype="+i+"&sessionid="+s+"&courseid="+t,success:function(i){e("#addselect").html(i)}})}),e("#addselect").on("change",function(){var i=e(this).val(),s=e("#sessionid").val();e.ajax({type:"POST",url:"fetch_sessionlocation.php",data:"addselect="+i+"&current_sessionid="+s,success:function(i){i&&(e(".alert-info").html(i),e(".alert-info").fadeTo(1e3,500).slideUp(500,function(){e(".alert-info").slideUp(500),e(".alert-info").empty()}),e("#addselect option").prop("selected",!1))}})}),e("#id_sessioninstructor").on("change",function(){var i=e(this).val(),s=e("input[name=s]").val(),t=e("#id_timestart_0_hour").val(),a=e("#id_timestart_0_minute").val(),o=e("#id_timestart_0_day").val(),n=e("#id_timestart_0_month").val(),l=e("#id_timestart_0_year").val(),c=e("#id_timefinish_0_hour").val(),r=e("#id_timefinish_0_minute").val(),d=e("#id_timefinish_0_day").val(),_=n+"/"+o+"/"+l+" "+t+":"+a+":00",p=e("#id_timefinish_0_month").val()+"/"+d+"/"+e("#id_timefinish_0_year").val()+" "+c+":"+r+":00";e.ajax({type:"POST",url:"fetch_sessionlocation.php",data:"sessioninstructor="+i+"&current_session="+s+"&start="+_+"&finish="+p,success:function(i){i&&(e(".alert-danger").html(i),e(".alert-danger").fadeTo(1e3,500).slideUp(500,function(){e(".alert-danger").slideUp(500),e(".alert-danger").empty()}),e("#id_sessioninstructor option:selected").prop("selected",!1))}})}),e("#id_classroom").on("change",function(){var i=e(this).val(),s=e("#id_sessionlocation").val(),t=e("input[name=s]").val(),a=e("input[name=f]").val();if(0!=t)var o=e("input[name=s]").val();else if(0!=a)o=e("input[name=f]").val();var n=e("#id_timestart_0_hour").val(),l=e("#id_timestart_0_minute").val(),c=e("#id_timestart_0_day").val(),r=e("#id_timestart_0_month").val(),d=e("#id_timestart_0_year").val(),_=e("#id_timefinish_0_hour").val(),p=e("#id_timefinish_0_minute").val(),u=e("#id_timefinish_0_day").val(),f=r+"/"+c+"/"+d+" "+n+":"+l+":0",h=e("#id_timefinish_0_month").val()+"/"+u+"/"+e("#id_timefinish_0_year").val()+" "+_+":"+p+":0";e.ajax({type:"POST",url:"fetch_sessionlocation.php",data:"sessionlocation="+s+"&sessionclassroom="+i+"&current_session="+o+"&start="+f+"&finish="+h,success:function(i){i&&(e(".alert-info").html(i),e(".alert-info").fadeTo(1e3,500).slideUp(500,function(){e(".alert-info").slideUp(500),e(".alert-info").empty()}),e("#id_classroom option").prop("selected",!1))}})})})}}});